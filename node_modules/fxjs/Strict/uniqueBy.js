"use strict";

var uniqueByLazy = require("../Lazy/uniqueByLazy.js");

var entriesLazy = require('../Lazy/entriesLazy.js');

var curry = require('./curry.js');

var isIterable = require('./isIterable.js');

var object = require('./object.js');

var takeAll = require("./takeAll.js");

var last = require('./last.js');

module.exports = curry(function uniqueBy(f, iter) {
  return isIterable(iter) ? takeAll(uniqueByLazy(f, iter)) : object(uniqueByLazy(e => f(last(e)), entriesLazy(iter)));
});