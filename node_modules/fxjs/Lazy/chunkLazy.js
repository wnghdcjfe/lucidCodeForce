"use strict";

var curry = require("../Strict/curry.js");

var toIter = require("../Strict/toIter.js");

var go = require("../Strict/go.js");

var take = require("../Strict/take.js");

var rangeLazy = require("./rangeLazy.js");

var mapLazy = require("./mapLazy.js");

var takeWhileLazy = require("./takeWhileLazy.js");

module.exports = curry(function chunkLazy(n, iter) {
  iter = toIter(iter);
  return go(rangeLazy(Infinity), mapLazy(_ => take(n, iter)), takeWhileLazy(c => c.length));
});