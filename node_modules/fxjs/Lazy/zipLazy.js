"use strict";

var map = require("../Strict/map.js");

var toIter = require('../Strict/toIter.js');

var curry = require('../Strict/curry.js');

var go = require("../Strict/go.js");

var mapLazy = require("./mapLazy.js");

var rangeLazy = require("./rangeLazy.js");

var takeWhileLazy = require("./takeWhileLazy.js");

var some = require("../Strict/some.js");

module.exports = curry(function zipLazy(...iterables) {
  const iterators = map(toIter, iterables);
  return go(rangeLazy(Infinity), mapLazy(_ => map(it => it.next(), iterators)), takeWhileLazy(some(cur => !cur.done)), mapLazy(map(cur => cur.value)));
});