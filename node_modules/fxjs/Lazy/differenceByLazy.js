"use strict";

require("core-js/modules/es.array.iterator");

require("core-js/modules/es.set");

var curry2 = require("../Strict/curry2.js");

var map = require("../Strict/map.js");

var go1 = require("../Strict/go1.js");

var go = require("../Strict/go.js");

var rejectLazy = require('./rejectLazy.js');

module.exports = curry2(function differenceByLazy(f, iter2, iter1) {
  let set;
  return rejectLazy(a => go1(set || go1(map(f, iter2), b => set = new Set(b)), set => go(a, f, b => set.has(b))), iter1);
});